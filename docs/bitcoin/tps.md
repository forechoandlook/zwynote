# tps

tps指的是理论tps，而非实际

---

### **1. 比特币的区块时间与TPS计算**
- **区块时间**：比特币平均每 **10分钟** 出一个区块（600秒），但这是**出块间隔**，而非交易处理速度的直接限制。
- **区块容量**：每个区块大小上限为 **1MB~4MB**（SegWit后），实际平均每区块包含约 **2000~3000笔交易**（取决于交易类型）。

**TPS计算公式**：
\[
\text{TPS} = \frac{\text{单个区块交易数}}{\text{出块时间（秒）}} = \frac{2500\ \text{笔}}{600\ \text{秒}} \approx 4.17\ \text{笔/秒}
\]
（若区块含3000笔交易，则TPS≈5笔/秒；通常保守估计为 **3~7笔/秒**）

---

### **2. 为什么“日均30万笔”与“TPS低”不矛盾？**
- **日均30万笔**：
  \[
  30万笔/日 = \frac{300,000}{24\times3600} \approx 3.47\ \text{笔/秒（日均TPS）}
  \]
  这与实际区块打包的TPS（4~7笔/秒）匹配，因为并非所有区块都满载，且网络拥堵时交易需排队。

- **10分钟一个区块**：
  出块间隔长确实限制了交易确认速度，但TPS取决于**单位时间内处理的交易总数**（即区块容量/出块时间），而非单纯出块频率。

---

### **3. 对比其他链的TPS**
- **以太坊**：15~30笔/秒（PoS后）
- **Solana**：2000~4000笔/秒（实际）
- **Visa**：约24,000笔/秒

比特币的低TPS是设计权衡的结果：
- **去中心化优先**：长出块时间降低分叉概率，小区块减少节点存储压力。
- **安全性**：10分钟间隔使攻击者更难重组链（需51%算力持续攻击）。

---

### **4. 用户实际体验**
- **交易延迟**：普通转账需等待 **1个区块确认**（10分钟），但交易所通常要求 **6确认**（约1小时）。
- **拥堵时**：若未支付足够Gas费，交易可能滞留数小时（如2017年牛市时积压超20万笔）。

---

### **总结**
- **“10分钟一个区块”** 是指交易确认的延迟，而 **“TPS=7笔/秒”** 是理论吞吐量上限。
- **“日均30万笔”** 是实际网络负载，两者通过区块容量和出块时间动态平衡。
- 比特币通过Layer2（如闪电网络）提升实际吞吐量（链下通道可达百万TPS），但主链仍保持低TPS以确保安全。